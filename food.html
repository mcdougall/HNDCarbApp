<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<link href="css.css" rel="stylesheet">
		<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
		<!--Import Google Icon Font-->
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
		<!-- Compiled and minified CSS -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

		
	<title> Food </title>
	</head>
	<body>
	
	 <nav>
    <div class="nav-wrapper">
      <a href="#!" class="brand-logo">Logo</a>
      <a href="#" data-target="mobile-demo" class="sidenav-trigger"><i class="material-icons">menu</i></a>
      <ul class="right hide-on-med-and-down">
        <li><a href="/home">Home</a></li>
    <li><a href="/food">Food</a></li>
    <li><a href="/register">Register</a></li>
    <li><a href="/login">Login</a></li>
      </ul>
    </div>
  </nav>

  <ul class="sidenav" id="mobile-demo">
    <li><a href="/home">Home</a></li>
    <li><a href="/food">Food</a></li>
    <li><a href="/register">Register</a></li>
    <li><a href="/login">Login</a></li>
  </ul>
  
  <div class = "container">
	<h1> Food Details  </h1>
	
	<script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);

	var name = sessionStorage.getItem("food-name");
	var fat = sessionStorage.getItem("fat");
	var carbs = sessionStorage.getItem("carbs");
	var protein = sessionStorage.getItem("protein");
	var sugar = sessionStorage.getItem("sugar");

      function drawChart() {

        var data = google.visualization.arrayToDataTable([
          ['Nutrients', 'Per 100g'],
          ['Fat', parseFloat(fat)],
          ['Carbs', parseFloat(carbs)],
          ['Protein', parseFloat(protein)],
          ['Sugar', parseFloat(sugar)]
        ]);

        var options = {
          title: sessionStorage.getItem("food-name") + ' nutrient values'
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart'));

        chart.draw(data, options);
      }
    </script>
	
	<div id="piechart" style="width: 105%; height: 75%; margin auto 0"></div>
	
	<ul>
		<li id="name"> </li>
		<li id="fat"> </li>
		<li id="carbs"> </li>
		<li id="protein"> </li>
		<li id="sugar"> </li>
	</ul>
	
	</div>

<!-- JQuery loaded before materialize -->
	<script  src="http://code.jquery.com/jquery-3.4.1.js"  integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="  crossorigin="anonymous"></script>
	<!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
	<script src ="/readSession.js"></script>
	<script>
	  $(document).ready(function(){
		$('.sidenav').sidenav();
		
		});
		</script>
	</body>
</html>